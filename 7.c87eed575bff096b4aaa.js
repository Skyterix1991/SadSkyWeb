(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{TDBs:function(e,t,i){"use strict";i.r(t),i.d(t,"DashboardModule",(function(){return xe}));var n=i("ofXK"),s=i("tyNb"),r=i("3/oY"),o=i("y5z+"),c=i("3Pt+"),a=i("xskJ");const d=["ACTIVE","AMUSED","ENERGIZED","EXCITED","ENTHUSIASTIC","HAPPY","INTERESTED","PROUD","PEACEFUL","FULFILLED","SAFE","CONFIDENT","RELAXED"],l=["NERVOUS","SCARED","APATHETIC","ASHAMED","GUILTY","HATE","BRUNT","DISHEARTENED","HOLLOW","HELPLESS","HOPELESS","LONELY","SAD","TIRED","EXHAUSTED"];let u=(()=>{class e{static getEmotionTranslation(e){switch(e){case"ACTIVE":return"AKTYWNY";case"AMUSED":return"ROZBAWIONY";case"ENERGIZED":return"ENERGETYCZNY";case"EXCITED":return"PODEKSCYTOWANY";case"ENTHUSIASTIC":return"ENTUZJASTYCZNY";case"HAPPY":return"SCZ\u0118\u015aLIWY";case"INTERESTED":return"ZAINTERESOWANY";case"PROUD":return"DUMNY";case"PEACEFUL":return"SPOKOJNY";case"FULFILLED":return"SPE\u0141NIONY";case"SAFE":return"BEZPIECZNY";case"CONFIDENT":return"PEWNY SIEBIE";case"RELAXED":return"ZRELAKSOWANY";case"NERVOUS":return"NERWOWY";case"SCARED":return"PRZESTRASZONY";case"APATHETIC":return"APATYCZNY";case"ASHAMED":return"ZAWSTYDZONY";case"GUILTY":return"WINNY";case"HATE":return"NIENAWIDZI\u0106";case"BRUNT":return"WYPALONY";case"DISHEARTENED":return"ZNIECH\u0118CONY";case"HOLLOW":return"PUSTY";case"HELPLESS":return"BEZRADNY";case"HOPELESS":return"BEZNADZIEJNY";case"LONELY":return"SAMOTNY";case"SAD":return"SMUTNY";case"TIRED":return"ZM\u0118CZONY";case"EXHAUSTED":return"WYKO\u0143CZONY";default:return e}}static getNegativeEmotions(e){return e.filter(e=>l.includes(e))}static getPositiveEmotions(e){return e.filter(e=>d.includes(e))}}return e.EMOTIONS=["ACTIVE","AMUSED","ENERGIZED","EXCITED","ENTHUSIASTIC","HAPPY","INTERESTED","PROUD","PEACEFUL","FULFILLED","SAFE","CONFIDENT","RELAXED","NERVOUS","SCARED","APATHETIC","ASHAMED","GUILTY","HATE","BRUNT","DISHEARTENED","HOLLOW","HELPLESS","HOPELESS","LONELY","SAD","TIRED","EXHAUSTED"],e})();var b=i("7mDy"),p=i("fXoL"),h=i("l7P3");let m=(()=>{class e{constructor(){this.predictionDayPartEditModalCloseEvent=new p.n,this.predictionDayPartEditModalOpenEvent=new p.n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=p.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=i("6NWb");let f=(()=>{class e{transform(e,...t){return u.getEmotionTranslation(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=p.Gb({name:"emotionTranslate",type:e,pure:!0}),e})();function v(e,t){if(1&e&&(p.Kb(0,"div",18),p.kc(1),p.Jb()),2&e){const e=p.Tb();p.xb(1),p.mc(" ",e.errorMessage," ")}}const y=function(e){return{active:e}};function P(e,t){if(1&e){const e=p.Lb();p.Kb(0,"li",19),p.Rb("click",(function(){p.fc(e);const i=t.$implicit;return p.Tb().onEmotionClicked(i)})),p.kc(1),p.Ub(2,"titlecase"),p.Ub(3,"emotionTranslate"),p.Jb()}if(2&e){const e=t.$implicit,i=p.Tb();p.Yb("ngClass",p.ac(6,y,i.selectedEmotions.includes(e))),p.xb(1),p.lc(p.Vb(2,2,p.Vb(3,4,e)))}}function E(e,t){1&e&&(p.Kb(0,"span"),p.kc(1,"Aktualizuj"),p.Jb())}function w(e,t){if(1&e&&p.Ib(0,"fa-icon",20),2&e){const e=p.Tb();p.Yb("fixedWidth",!0)("icon",e.faCircleNotch)}}let x=(()=>{class e{constructor(e,t,i){this.store=e,this.predictionDayPart=t,this.document=i,this.faCircleNotch=a.faCircleNotch,this.faMeh=o.faMehBlank,this.emotions=u.EMOTIONS}ngOnInit(){this.createEditEmotionsForm(),this.predictionStoreSubscription=this.store.select("dashboard").subscribe(e=>{this.selectedPrediction=e.selectedPrediction,this.errorMessage=e.dayPartEmotionsEditErrorMessage,this.isFetching=e.isPredictionFetching}),window.scroll(0,0),this.document.body.classList.add("modal-open")}ngOnDestroy(){this.predictionStoreSubscription&&this.predictionStoreSubscription.unsubscribe(),this.document.body.classList.remove("modal-open")}onClose(){this.isFetching||(this.predictionDayPart.predictionDayPartEditModalCloseEvent.emit(),this.store.dispatch(new b.x(this.selectedPrediction.owner.userId)))}onSubmit(){this.store.dispatch(new b.D(this.selectedPrediction.owner.userId,this.selectedPrediction.predictionId,[...this.selectedEmotions]))}createEditEmotionsForm(){this.editEmotionsForm=new c.d({})}onEmotionClicked(e){this.selectedEmotions.includes(e)?this.selectedEmotions=this.selectedEmotions.filter(t=>t!==e):this.selectedEmotions.push(e)}}return e.\u0275fac=function(t){return new(t||e)(p.Hb(h.h),p.Hb(m),p.Hb(n.c))},e.\u0275cmp=p.Bb({type:e,selectors:[["app-prediction-day-part-edit"]],inputs:{selectedEmotions:"selectedEmotions"},decls:21,vars:7,consts:[[1,"modal-backdrop","show"],[1,"prediction-day-part-modal"],[1,"content","overflow-auto","rounded-lg"],[1,"header"],[1,"float-right","p-3","close",3,"click"],[1,"body"],[1,"icon","d-inline-block","rounded-circle"],["size","3x",3,"icon"],[1,"title","h2","font-weight-light","mt-2"],[1,"p-3","mr-4","ml-4","text-left",3,"formGroup"],["class","alert alert-danger p-2 mb-4",4,"ngIf"],[1,"ml-1","mt-3","font-weight-bold"],[1,"p-2","emotions"],["class","shadow-sm rounded-pill p-1 pr-3 pl-3 mr-2 pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"form-group"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","p-3","mt-5",3,"disabled","click"],[4,"ngIf"],["class","text-white","size","sm","spin","true",3,"fixedWidth","icon",4,"ngIf"],[1,"alert","alert-danger","p-2","mb-4"],[1,"shadow-sm","rounded-pill","p-1","pr-3","pl-3","mr-2","pointer",3,"ngClass","click"],["size","sm","spin","true",1,"text-white",3,"fixedWidth","icon"]],template:function(e,t){1&e&&(p.Ib(0,"div",0),p.Kb(1,"div",1),p.Kb(2,"div",2),p.Kb(3,"div",3),p.Kb(4,"span",4),p.Rb("click",(function(){return t.onClose()})),p.kc(5,"\xd7"),p.Jb(),p.Jb(),p.Kb(6,"div",5),p.Kb(7,"div",6),p.Ib(8,"fa-icon",7),p.Jb(),p.Kb(9,"p",8),p.kc(10,"Edytuj emocje"),p.Jb(),p.Kb(11,"form",9),p.jc(12,v,2,1,"div",10),p.Kb(13,"h5",11),p.kc(14,"Emocje"),p.Jb(),p.Kb(15,"ul",12),p.jc(16,P,4,8,"li",13),p.Jb(),p.Kb(17,"div",14),p.Kb(18,"button",15),p.Rb("click",(function(){return t.onSubmit()})),p.jc(19,E,2,0,"span",16),p.jc(20,w,1,2,"fa-icon",17),p.Jb(),p.Jb(),p.Jb(),p.Jb(),p.Jb(),p.Jb()),2&e&&(p.xb(8),p.Yb("icon",t.faMeh),p.xb(3),p.Yb("formGroup",t.editEmotionsForm),p.xb(1),p.Yb("ngIf",!!t.errorMessage),p.xb(4),p.Yb("ngForOf",t.emotions),p.xb(2),p.Yb("disabled",!t.editEmotionsForm.valid||t.isFetching||0==t.selectedEmotions.length),p.xb(1),p.Yb("ngIf",!t.isFetching),p.xb(1),p.Yb("ngIf",t.isFetching))},directives:[g.a,c.o,c.h,c.e,n.j,n.i,n.h],pipes:[n.m,f],styles:[".prediction-day-part-modal[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;text-align:center;z-index:1050;margin-top:-5vh}.prediction-day-part-modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{min-height:56px}.prediction-day-part-modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-top:-30px;border:2px solid #0275d8;line-height:120px;color:#0275d8;height:100px;width:100px}.prediction-day-part-modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#3c3c3c}.prediction-day-part-modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:inline-block;width:75vw;max-width:650px;min-height:500px;max-height:90vh;background:#fff}ul.emotions[_ngcontent-%COMP%]{list-style-type:none}ul.emotions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;-webkit-user-select:none;user-select:none;margin-top:3px;margin-bottom:3px}ul.emotions[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:#ccc;transition:background-color .3s ease}.prediction-day-part-modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{color:#3c3c3c;cursor:pointer;-webkit-user-select:none;user-select:none}"]}),e})();var O=i("wrCH");const C=["Brak zespo\u0142u l\u0119k\xf3w uog\xf3lnionych","Zesp\xf3\u0142 l\u0119k\xf3w uog\xf3lnionych","Zaawansowany zesp\xf3\u0142 l\u0119k\xf3w uogulnionych"],k=["Z przyjemno\u015bci\u0105 i spokojem informujemy \u017ce nie zarejestrowano \u017cadnych zaburze\u0144 psychicznych! Je\u017celi wynik testu zmartwi\u0142 ci\u0119 lub nadal nie jeste\u015b pewien rezultatu, koniecznie nawi\u0105\u017c kontakt ze specjalist\u0105.","Samopoczucie jakie przez ostatni tydzie\u0144 uda\u0142o si\u0119 nam zaobserwowa\u0107 s\u0105 wystarczaj\u0105c\u0105 podstaw\u0105 aby s\u0105dzi\u0107 \u017ce osoba badana cierpi na Zesp\xf3\u0142 L\u0119k\xf3w Uogulnionych.","Zaobserwowany w ostatnim czasie nastr\xf3j, obawy i l\u0119ki mog\u0105 wskazywa\u0107 na zaawansowany zesp\xf3\u0142 l\u0119k\xf3w uog\xf3lnionych."],I=["Brak depresji","Depresja","Ci\u0119\u017cka depresja"],M=["Z przyjemno\u015bci\u0105 i spokojem informujemy \u017ce nie zarejestrowano \u017cadnych zaburze\u0144 psychicznych! Je\u017celi wynik testu zmartwi\u0142 ci\u0119 lub nadal nie jeste\u015b pewien rezultatu, koniecznie nawi\u0105\u017c kontakt ze specjalist\u0105.","W oparciu o powtarzaj\u0105ce si\u0119 przez ostatni tydzie\u0144 dane, dotycz\u0105ce samopoczucia, kt\xf3re u\u017cytkownik regularnie wprowadza\u0142 do systemu. Wyst\u0119puje podejrzenie zaburzenia psychicznego: depresji. Zaleca si\u0119 mo\u017cliwie jak najszybszy kontakt z profesjonalist\u0105 (psychologiem/psychiatr\u0105).","Informacje jakie na podstawie ankiet wype\u0142nianych przez u\u017cytkownika uda\u0142o si\u0119 zebra\u0107 w minionym tygodniu sugeruj\u0105 wysokie ryzyko zapadni\u0119cia na ci\u0119\u017ck\u0105 depresje."];class S{static getDepressionResultName(e){switch(e){case"NEGATIVE":return I[0];case"MILD_DEPRESSION":return I[1];case"SEVERE_DEPRESSION":return I[2]}}static getDepressionResultDescription(e){switch(e){case"NEGATIVE":return M[0];case"MILD_DEPRESSION":return M[1];case"SEVERE_DEPRESSION":return M[2]}}static getAnxietyResultName(e){switch(e){case"NEGATIVE":return C[0];case"MILD_ANXIETY":return C[1];case"SEVERE_ANXIETY":return C[2]}}static getAnxietyResultDescription(e){switch(e){case"NEGATIVE":return k[0];case"MILD_ANXIETY":return k[1];case"SEVERE_ANXIETY":return k[2]}}}var D=i("vR0d");function R(e,t){if(1&e&&(p.Kb(0,"li",17),p.kc(1),p.Ub(2,"titlecase"),p.Ub(3,"emotionTranslate"),p.Jb()),2&e){const e=t.$implicit,i=t.index,n=p.Tb();p.xb(1),p.nc("",n.emotionCounts[i]+"x"," ",p.Vb(2,2,p.Vb(3,4,e)),"")}}let N=(()=>{class e{constructor(e,t,i){this.store=e,this.predictionResultService=t,this.document=i,this.faClipboard=O.faClipboardList}ngOnInit(){this.predictionStoreSubscription=this.store.select("dashboard").subscribe(e=>{this.selectedPrediction=e.selectedPrediction}),this.updateResultDetails(),this.updateEmotions(),window.scroll(0,0),this.document.body.classList.add("modal-open")}onClose(){this.predictionResultService.predictionResultViewModalCloseEvent.emit()}ngOnDestroy(){this.predictionStoreSubscription&&this.predictionStoreSubscription.unsubscribe(),this.document.body.classList.remove("modal-open")}updateResultDetails(){this.depressionResultName=S.getDepressionResultName(this.selectedPrediction.depressionResult),this.depressionResultDescription=S.getDepressionResultDescription(this.selectedPrediction.depressionResult),this.anxietyResultName=S.getAnxietyResultName(this.selectedPrediction.anxietyResult),this.anxietyResultDescription=S.getAnxietyResultDescription(this.selectedPrediction.anxietyResult)}updateEmotions(){let e=[];this.selectedPrediction.days.forEach(t=>{e=e.concat([...t.morningEmotions,...t.eveningEmotions,...t.afternoonEmotions])}),this.uniqueEmotions=e.filter((e,t,i)=>i.indexOf(e)===t),this.emotionCounts=this.uniqueEmotions.map(t=>e.filter(e=>e===t).length)}}return e.\u0275fac=function(t){return new(t||e)(p.Hb(h.h),p.Hb(D.a),p.Hb(n.c))},e.\u0275cmp=p.Bb({type:e,selectors:[["app-prediction-result-view"]],decls:25,vars:6,consts:[[1,"modal-backdrop","show"],[1,"prediction-result-view-modal"],[1,"content","overflow-auto","rounded-lg"],[1,"header"],[1,"float-right","p-3","close",3,"click"],[1,"body"],[1,"icon","d-inline-block","rounded-circle"],["size","3x",3,"icon"],[1,"p-5"],[1,"title","h2","font-weight-light","pb-2"],[1,"text-left"],[1,"title","h2","font-weight-light","pt-4","pb-4"],[1,"p-0","mt-3"],[1,"text-left","pl-5","pr-5"],[1,"h3"],[1,"emotions","p-0"],["class","shadow-sm rounded-pill mt-1 p-1 pr-3 pl-3 mr-2",4,"ngFor","ngForOf"],[1,"shadow-sm","rounded-pill","mt-1","p-1","pr-3","pl-3","mr-2"]],template:function(e,t){1&e&&(p.Ib(0,"div",0),p.Kb(1,"div",1),p.Kb(2,"div",2),p.Kb(3,"div",3),p.Kb(4,"span",4),p.Rb("click",(function(){return t.onClose()})),p.kc(5,"\xd7"),p.Jb(),p.Jb(),p.Kb(6,"div",5),p.Kb(7,"div",6),p.Ib(8,"fa-icon",7),p.Jb(),p.Kb(9,"div",8),p.Kb(10,"p",9),p.kc(11),p.Jb(),p.Kb(12,"p",10),p.kc(13),p.Jb(),p.Kb(14,"p",11),p.kc(15),p.Jb(),p.Kb(16,"p",10),p.kc(17),p.Jb(),p.Jb(),p.Kb(18,"p",12),p.kc(19,"Pami\u0119taj! Diagnoz\u0119 mo\u017ce postawi\u0107 tylko specjalista."),p.Jb(),p.Kb(20,"div",13),p.Kb(21,"p",14),p.kc(22,"Emocje"),p.Jb(),p.Kb(23,"ul",15),p.jc(24,R,4,6,"li",16),p.Jb(),p.Jb(),p.Jb(),p.Jb(),p.Jb()),2&e&&(p.xb(8),p.Yb("icon",t.faClipboard),p.xb(3),p.lc(t.depressionResultName),p.xb(2),p.lc(t.depressionResultDescription),p.xb(2),p.lc(t.anxietyResultName),p.xb(2),p.lc(t.anxietyResultDescription),p.xb(7),p.Yb("ngForOf",t.uniqueEmotions))},directives:[g.a,n.i],pipes:[n.m,f],styles:[".prediction-result-view-modal[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;text-align:center;z-index:1050;margin-top:-5vh}.prediction-result-view-modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{min-height:56px}.prediction-result-view-modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-top:-30px;border:2px solid #0275d8;line-height:120px;color:#0275d8;height:100px;width:100px}.prediction-result-view-modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#3c3c3c}.prediction-result-view-modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:inline-block;width:75vw;max-width:650px;min-height:500px;max-height:90vh;background:#fff}ul.emotions[_ngcontent-%COMP%]{list-style-type:none}ul.emotions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;-webkit-user-select:none;user-select:none;margin-top:3px;margin-bottom:3px}ul.emotions[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:#ccc;transition:background-color .3s ease}.prediction-result-view-modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{color:#3c3c3c;cursor:pointer;-webkit-user-select:none;user-select:none}"]}),e})();var T=i("0phd"),_=i("VSwL"),J=i("4+EV");let Y=(()=>{class e{constructor(e,t){this.elementRef=e,this.renderer=t,this.isOpen=!1}ngOnInit(){const e=this.elementRef.nativeElement;this.buttonToggleRef=e.querySelector(".dropdown-toggle"),this.dropdownRef=e.querySelector(".dropdown-menu")}toggleOpen(e){this.elementRef.nativeElement&&(this.isOpen=!!this.elementRef.nativeElement.contains(e.target)&&!this.isOpen,this.isOpen?this.renderer.addClass(this.dropdownRef,"show"):this.renderer.removeClass(this.dropdownRef,"show"))}}return e.\u0275fac=function(t){return new(t||e)(p.Hb(p.l),p.Hb(p.D))},e.\u0275dir=p.Cb({type:e,selectors:[["","appDropdown",""]],hostBindings:function(e,t){1&e&&p.Rb("click",(function(e){return t.toggleOpen(e)}),!1,p.ec)}}),e})();const K=["menuRef"];function z(e,t){if(1&e&&(p.Kb(0,"option",9),p.kc(1),p.Ub(2,"titlecase"),p.Jb()),2&e){const e=t.$implicit;p.Yb("value",e.userId),p.xb(1),p.lc(p.Vb(2,2,e.firstName+" "+e.lastName))}}const U=function(){return["/profile"]};let A=(()=>{class e{constructor(e,t,i,n){this.store=e,this.renderer=t,this.router=i,this.activatedRoute=n,this.menuToggleIcon=_.faBars,this.isMenuOpened=!0}ngOnInit(){this.authenticationStoreSubscription=this.store.select("authentication").subscribe(e=>{this.currentUser=e.user}),this.dashboardStoreSubscription=this.store.select("dashboard").subscribe(e=>{this.userFriendsTo=e.userFriendsTo,this.selectedUser=e.selectedUser}),this.store.dispatch(new b.s(this.currentUser.userId)),this.store.dispatch(this.activatedRoute.snapshot.params.userId&&this.activatedRoute.snapshot.params.userId!==this.currentUser.userId?new b.L(this.activatedRoute.snapshot.params.userId):new b.M(this.currentUser)),this.createUsersForm()}ngOnDestroy(){this.authenticationStoreSubscription.unsubscribe(),this.dashboardStoreSubscription.unsubscribe()}onLogout(){this.store.dispatch(new b.d),this.store.dispatch(new T.l)}onMenuToggle(){this.isMenuOpened?(this.menuToggleIcon=J.faTimes,this.renderer.setStyle(this.menuRef.nativeElement,"display","block")):(this.menuToggleIcon=_.faBars,this.renderer.setStyle(this.menuRef.nativeElement,"display","none")),this.isMenuOpened=!this.isMenuOpened}selectUser(){const e=this.usersForm.controls.users.value;if(!e)return;let t;t=e===this.currentUser.userId?this.currentUser:this.userFriendsTo.find(t=>e===t.userId),this.selectedUser.userId!==t.userId&&(this.store.dispatch(new b.M(t)),this.store.dispatch(new b.d),this.router.navigate(["/dashboard",t.userId]))}createUsersForm(){let e=this.activatedRoute.snapshot.params.userId;e||(e=this.currentUser.userId),this.usersForm=new c.d({users:new c.b(e,[c.m.required])})}}return e.\u0275fac=function(t){return new(t||e)(p.Hb(h.h),p.Hb(p.D),p.Hb(s.c),p.Hb(s.a))},e.\u0275cmp=p.Bb({type:e,selectors:[["app-dashboard-navbar"]],viewQuery:function(e,t){var i;1&e&&p.oc(K,!0),2&e&&p.dc(i=p.Sb())&&(t.menuRef=i.first)},decls:22,vars:10,consts:[[1,"offset"],[1,"navbar","navbar-expand-xl","navbar-light","fixed-top","bg-light","shadow-lg","p-0"],["type","button",1,"navbar-toggler","text-black-50","ml-auto",3,"click"],["size","lg",3,"icon"],[1,"collapse","navbar-collapse"],["menuRef",""],[1,"navbar-nav","pl-1"],[1,"nav-item",3,"formGroup"],["formControlName","users",1,"custom-select",3,"change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"navbar-nav","ml-auto","pl-3"],["appDropdown","",1,"nav-item","dropdown"],[1,"nav-link","dropdown-toggle","pointer"],[1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item","pointer",3,"routerLink"],[1,"dropdown-item","pointer",3,"click"]],template:function(e,t){1&e&&(p.Ib(0,"div",0),p.Kb(1,"nav",1),p.Kb(2,"button",2),p.Rb("click",(function(){return t.onMenuToggle()})),p.Ib(3,"fa-icon",3),p.Jb(),p.Kb(4,"div",4,5),p.Kb(6,"ul",6),p.Kb(7,"li",7),p.Kb(8,"select",8),p.Rb("change",(function(){return t.selectUser()})),p.Kb(9,"option",9),p.kc(10),p.Ub(11,"titlecase"),p.Jb(),p.jc(12,z,3,4,"option",10),p.Jb(),p.Jb(),p.Jb(),p.Kb(13,"ul",11),p.Kb(14,"li",12),p.Kb(15,"a",13),p.kc(16),p.Jb(),p.Kb(17,"div",14),p.Kb(18,"a",15),p.kc(19,"Profile"),p.Jb(),p.Kb(20,"a",16),p.Rb("click",(function(){return t.onLogout()})),p.kc(21,"Wyloguj"),p.Jb(),p.Jb(),p.Jb(),p.Jb(),p.Jb(),p.Jb()),2&e&&(p.xb(3),p.Yb("icon",t.menuToggleIcon),p.xb(4),p.Yb("formGroup",t.usersForm),p.xb(2),p.Yb("value",t.currentUser.userId),p.xb(1),p.lc(p.Vb(11,7,t.currentUser.firstName+" "+t.currentUser.lastName)),p.xb(2),p.Yb("ngForOf",t.userFriendsTo),p.xb(4),p.mc(" ",t.currentUser.firstName," "),p.xb(2),p.Yb("routerLink",p.Zb(9,U)))},directives:[g.a,c.h,c.e,c.l,c.g,c.c,c.i,c.n,n.i,Y,s.f],pipes:[n.m],styles:[".navbar[_ngcontent-%COMP%]{height:60px}.nav-item[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.navbar-toggler[_ngcontent-%COMP%]{position:absolute;outline:none;border:none;padding:0;width:40px;height:40px;line-height:40px;text-align:center;right:0;z-index:1050}.navbar-collapse[_ngcontent-%COMP%]{width:100vw;z-index:1000;background:#f8f9fa}.offset[_ngcontent-%COMP%]{margin-top:70px}.nav-item[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{margin:5px;width:200px}"]}),e})();var H=i("vMDV"),L=i("Xa4a");const F=function(e,t){return["/dashboard",e,"predictions",t]},j=function(e,t,i){return{"bg-red":e,"bg-green":t,"bg-gray":i}};let V=(()=>{class e{constructor(e){this.store=e,this.MONTHS=H.b}ngOnInit(){this.predictionStoreSubscription=this.store.select("dashboard").subscribe(e=>{this.selectedPrediction=e.selectedPrediction,this.selectedPrediction&&(this.isPredictionSelected=this.selectedPrediction.predictionId===this.prediction.predictionId)}),this.createDate=new Date(this.prediction.createDate),this.predictionIcon=this.getPredictionIcon()}isPredictionExpired(){return!!this.prediction.anxietyResult||!!this.prediction.depressionResult}onClick(){this.store.dispatch(new b.J(this.prediction))}getPredictionIcon(){return this.isPredictionExpired()?O.faClipboardList:this.prediction.canceled?J.faTimes:L.faClock}ngOnDestroy(){this.predictionStoreSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(p.Hb(h.h))},e.\u0275cmp=p.Bb({type:e,selectors:[["app-prediction-item"]],inputs:{prediction:"prediction"},decls:5,vars:12,consts:[["routerLinkActive","active",1,"list-group-item","prediction","pointer",3,"routerLink","click"],[1,"text-white","icon","shadow",3,"ngClass"],[3,"icon"],[1,"date","ml-2","h5"]],template:function(e,t){1&e&&(p.Kb(0,"div",0),p.Rb("click",(function(){return t.onClick()})),p.Kb(1,"div",1),p.Ib(2,"fa-icon",2),p.Jb(),p.Kb(3,"span",3),p.kc(4),p.Jb(),p.Jb()),2&e&&(p.Yb("routerLink",p.bc(5,F,t.prediction.owner.userId,t.prediction.predictionId)),p.xb(1),p.Yb("ngClass",p.cc(8,j,t.prediction.canceled,t.isPredictionExpired(),!t.isPredictionExpired()&&!t.prediction.canceled)),p.xb(1),p.Yb("icon",t.predictionIcon),p.xb(2),p.nc("",t.createDate.getDate()+" "+t.MONTHS[t.createDate.getMonth()]," - ",t.prediction.expireDate[2]+" "+t.MONTHS[t.prediction.expireDate[1]-1],""))},directives:[s.e,s.d,n.h,g.a],styles:[".prediction[_ngcontent-%COMP%]{min-height:62px;line-height:31px;-webkit-user-select:none;user-select:none;background:linear-gradient(90deg,#f8f9fa 50%,#0275d8 0) 0 100%;background-size:202% 100%;background-position-x:-1px;transition:all .4s ease;border:none;border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.prediction.active[_ngcontent-%COMP%]{background-position:-99%;color:#fff}.prediction[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:inline-block;height:36px;width:36px;line-height:36px;border-radius:100%;text-align:center}.prediction[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{position:absolute;top:19px}.prediction[_ngcontent-%COMP%]   .icon.bg-green[_ngcontent-%COMP%]{background:#28a745}.prediction[_ngcontent-%COMP%]   .icon.bg-gray[_ngcontent-%COMP%]{background:#9e9e9e}.prediction[_ngcontent-%COMP%]   .icon.bg-red[_ngcontent-%COMP%]{background:#c00}"]}),e})();function Z(e,t){1&e&&p.Ib(0,"app-prediction-item",3),2&e&&p.Yb("prediction",t.$implicit)}function B(e,t){if(1&e&&(p.Kb(0,"li",4),p.Ib(1,"fa-icon",5),p.Jb()),2&e){const e=p.Tb();p.xb(1),p.Yb("icon",e.faCircleNotch)}}let G=(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t,this.faCircleNotch=a.faCircleNotch}ngOnInit(){this.store.dispatch(new b.c),this.predictionStoreSubscription=this.store.select("dashboard").subscribe(e=>{e.selectedUser&&this.selectedUser!==e.selectedUser&&this.store.dispatch(new b.x(e.selectedUser.userId)),this.predictions=e.predictions,this.selectedUser=e.selectedUser,this.isFetching=e.arePredictionsFetching}),this.activatedRoute.snapshot.params.userId&&this.store.dispatch(new b.x(this.activatedRoute.snapshot.params.userId))}ngOnDestroy(){this.predictionStoreSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(p.Hb(h.h),p.Hb(s.a))},e.\u0275cmp=p.Bb({type:e,selectors:[["app-prediction-list"]],decls:4,vars:2,consts:[[1,"list-group","pl-1","overflow-auto","bg-light","rounded"],[3,"prediction",4,"ngFor","ngForOf"],["class","spinner text-center",4,"ngIf"],[3,"prediction"],[1,"spinner","text-center"],["size","3x","spin","true",3,"icon"]],template:function(e,t){1&e&&(p.Kb(0,"section"),p.Kb(1,"ul",0),p.jc(2,Z,1,1,"app-prediction-item",1),p.jc(3,B,2,1,"li",2),p.Jb(),p.Jb()),2&e&&(p.xb(2),p.Yb("ngForOf",t.predictions),p.xb(1),p.Yb("ngIf",t.isFetching))},directives:[n.i,n.j,V,g.a],styles:[".list-group[_ngcontent-%COMP%]{list-style-type:none;max-height:calc(100vh - 70px);min-height:90vh}.spinner[_ngcontent-%COMP%]{position:absolute;line-height:80vh;height:80vh;width:100%;margin-top:10px;margin-bottom:10px}"]}),e})(),W=(()=>{class e{constructor(e,t,i){this.predictionDayPartService=e,this.predictionResultService=t,this.componentFactoryResolver=i}ngOnInit(){this.predictionDayPartEmotionsEditOpenSubscription=this.predictionDayPartService.predictionDayPartEditModalOpenEvent.subscribe(e=>{this.loadPredictionDayPartEmotionsForm(e)}),this.predictionDayPartEmotionsEditCloseSubscription=this.predictionDayPartService.predictionDayPartEditModalCloseEvent.subscribe(e=>{this.viewContainerRef.clear()}),this.predictionResultViewModalOpenEvent=this.predictionResultService.predictionResultViewModalOpenEvent.subscribe(e=>{this.loadPredictionResultView()}),this.predictionResultViewModalCloseEvent=this.predictionResultService.predictionResultViewModalCloseEvent.subscribe(e=>{this.viewContainerRef.clear()})}loadPredictionDayPartEmotionsForm(e){const t=this.componentFactoryResolver.resolveComponentFactory(x);this.viewContainerRef=this.placeholderDirective.viewContainerRef,this.viewContainerRef.clear(),this.viewContainerRef.createComponent(t).instance.selectedEmotions=e}loadPredictionResultView(){const e=this.componentFactoryResolver.resolveComponentFactory(N);this.viewContainerRef=this.placeholderDirective.viewContainerRef,this.viewContainerRef.clear(),this.viewContainerRef.createComponent(e)}}return e.\u0275fac=function(t){return new(t||e)(p.Hb(m),p.Hb(D.a),p.Hb(p.j))},e.\u0275cmp=p.Bb({type:e,selectors:[["app-dashboard"]],viewQuery:function(e,t){var i;1&e&&p.oc(r.a,!0),2&e&&p.dc(i=p.Sb())&&(t.placeholderDirective=i.first)},decls:7,vars:0,consts:[["appPlaceholder",""],[1,"container-fluid","mt-3"],[1,"row"],[1,"col-xl-4","p-0","m-0","pr-1"],[1,"col-xl-8","p-0","m-0"]],template:function(e,t){1&e&&(p.Ib(0,"div",0),p.Ib(1,"app-dashboard-navbar"),p.Kb(2,"section",1),p.Kb(3,"div",2),p.Ib(4,"app-prediction-list",3),p.Kb(5,"div",4),p.Ib(6,"router-outlet"),p.Jb(),p.Jb(),p.Jb())},directives:[r.a,A,G,s.h],styles:[""]}),e})();const X=["menuRef"],q=function(e){return["day",e]};function Q(e,t){if(1&e&&(p.Kb(0,"li",7),p.Kb(1,"a",8),p.kc(2),p.Jb(),p.Jb()),2&e){const e=t.$implicit,i=t.index,n=p.Tb();p.Yb("routerLink",p.ac(3,q,e)),p.xb(1),p.Yb("ngClass",n.currentDayNumber==i?"current":""),p.xb(1),p.mc("Dzie\u0144 ",e,"")}}let $=(()=>{class e{constructor(e,t){this.renderer=e,this.store=t,this.days=[],this.menuToggleIcon=_.faBars,this.isMenuOpened=!0}ngOnInit(){this.predictionStoreSubscription=this.store.select("dashboard").subscribe(e=>{(!this.selectedPrediction&&e.selectedPrediction||e.selectedPrediction!==this.selectedPrediction)&&(this.selectedPrediction=e.selectedPrediction,this.updateCurrentDayNumber()),this.selectedPrediction&&(this.days=Array.from({length:this.selectedPrediction.days.length},(e,t)=>t+1))})}ngOnDestroy(){this.predictionStoreSubscription.unsubscribe()}onMenuToggle(){this.isMenuOpened?(this.menuToggleIcon=J.faTimes,this.renderer.setStyle(this.menuRef.nativeElement,"display","block")):(this.menuToggleIcon=_.faBars,this.renderer.setStyle(this.menuRef.nativeElement,"display","none")),this.isMenuOpened=!this.isMenuOpened}updateCurrentDayNumber(){const e=new Date(this.selectedPrediction.expireDate[0],this.selectedPrediction.expireDate[1]-1,this.selectedPrediction.expireDate[2]+1),t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),this.currentDayNumber=t.getTime()>e.getTime()?-1:7-Math.round(Math.abs((t-e)/864e5))}}return e.\u0275fac=function(t){return new(t||e)(p.Hb(p.D),p.Hb(h.h))},e.\u0275cmp=p.Bb({type:e,selectors:[["app-prediction-day-navbar"]],viewQuery:function(e,t){var i;1&e&&p.oc(X,!0),2&e&&p.dc(i=p.Sb())&&(t.menuRef=i.first)},decls:7,vars:2,consts:[[1,"navbar","navbar-dashboard","w-100","navbar-expand-lg","navbar-light","bg-light","rounded"],["type","button",1,"navbar-toggler","text-black-50","ml-auto",3,"click"],["size","lg",3,"icon"],[1,"collapse","navbar-collapse"],["menuRef",""],[1,"navbar-nav"],["routerLinkActive","active","class","nav-item text-center",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"nav-item","text-center",3,"routerLink"],[1,"nav-link","text-gray","h5","pointer","m-0","font-weight-normal","pl-4","pr-4",3,"ngClass"]],template:function(e,t){1&e&&(p.Kb(0,"nav",0),p.Kb(1,"button",1),p.Rb("click",(function(){return t.onMenuToggle()})),p.Ib(2,"fa-icon",2),p.Jb(),p.Kb(3,"div",3,4),p.Kb(5,"ul",5),p.jc(6,Q,3,5,"li",6),p.Jb(),p.Jb(),p.Jb()),2&e&&(p.xb(2),p.Yb("icon",t.menuToggleIcon),p.xb(4),p.Yb("ngForOf",t.days))},directives:[g.a,n.i,s.e,s.d,n.h],styles:[".navbar-dashboard[_ngcontent-%COMP%]{min-height:60px;border-bottom-right-radius:0!important;border-bottom-left-radius:0!important}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-radius:.25rem;-webkit-user-select:none;user-select:none;transition:all .3s ease}.nav-item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#0275d8;color:#fff}.navbar-collapse[_ngcontent-%COMP%]{z-index:1000;background:#f8f9fa}.navbar-toggler[_ngcontent-%COMP%]{padding:0;width:40px;height:40px;line-height:40px;text-align:center;outline:none;border:none}.active[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#fff!important}.current[_ngcontent-%COMP%]{color:#000!important}"]}),e})();const ee=["menuRef"],te=function(){return[]},ie=function(e){return{dayPart:e}};function ne(e,t){if(1&e&&(p.Kb(0,"li",7),p.Kb(1,"a",8),p.kc(2),p.Jb(),p.Jb()),2&e){const e=t.$implicit;p.Yb("routerLink",p.Zb(3,te))("queryParams",p.ac(4,ie,e.dayPartQueryParam)),p.xb(2),p.lc(e.dayPartName)}}let se=(()=>{class e{constructor(e){this.renderer=e,this.dayParts=[{dayPartName:"Rano",dayPartQueryParam:"morning"},{dayPartName:"Popo\u0142udnie",dayPartQueryParam:"afternoon"},{dayPartName:"Wiecz\xf3r",dayPartQueryParam:"evening"}],this.menuToggleIcon=_.faBars,this.isMenuOpened=!0}ngOnInit(){}onMenuToggle(){this.isMenuOpened?(this.menuToggleIcon=J.faTimes,this.renderer.setStyle(this.menuRef.nativeElement,"display","block")):(this.menuToggleIcon=_.faBars,this.renderer.setStyle(this.menuRef.nativeElement,"display","none")),this.isMenuOpened=!this.isMenuOpened}}return e.\u0275fac=function(t){return new(t||e)(p.Hb(p.D))},e.\u0275cmp=p.Bb({type:e,selectors:[["app-prediction-day-part-navbar"]],viewQuery:function(e,t){var i;1&e&&p.oc(ee,!0),2&e&&p.dc(i=p.Sb())&&(t.menuRef=i.first)},decls:7,vars:2,consts:[[1,"navbar","navbar-dashboard","w-100","navbar-expand-lg","navbar-light","bg-light","rounded"],["type","button",1,"navbar-toggler","text-black-50","ml-auto",3,"click"],["size","lg",3,"icon"],[1,"collapse","navbar-collapse"],["menuRef",""],[1,"navbar-nav"],["routerLinkActive","active","class","nav-item text-center",3,"routerLink","queryParams",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"nav-item","text-center",3,"routerLink","queryParams"],[1,"nav-link","text-gray","h5","pointer","m-0","font-weight-normal","pl-4","pr-4"]],template:function(e,t){1&e&&(p.Kb(0,"nav",0),p.Kb(1,"button",1),p.Rb("click",(function(){return t.onMenuToggle()})),p.Ib(2,"fa-icon",2),p.Jb(),p.Kb(3,"div",3,4),p.Kb(5,"ul",5),p.jc(6,ne,3,6,"li",6),p.Jb(),p.Jb(),p.Jb()),2&e&&(p.xb(2),p.Yb("icon",t.menuToggleIcon),p.xb(4),p.Yb("ngForOf",t.dayParts))},directives:[g.a,n.i,s.e,s.d],styles:[".navbar-dashboard[_ngcontent-%COMP%]{min-height:60px;border-top-right-radius:0!important;border-top-left-radius:0!important}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-radius:.25rem;-webkit-user-select:none;user-select:none;transition:all .3s ease}.nav-item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#0275d8;color:#fff}.navbar-collapse[_ngcontent-%COMP%]{z-index:1000;background:#f8f9fa}.navbar-toggler[_ngcontent-%COMP%]{padding:0;width:40px;height:40px;line-height:40px;text-align:center;outline:none;border:none}"]}),e})();function re(e,t){if(1&e&&(p.Kb(0,"div",8),p.kc(1),p.Jb()),2&e){const e=p.Tb(2);p.xb(1),p.mc(" ",e.errorMessage," ")}}function oe(e,t){if(1&e){const e=p.Lb();p.Kb(0,"fa-icon",9),p.Rb("click",(function(){return p.fc(e),p.Tb(2).onViewResult()})),p.Jb()}if(2&e){const e=p.Tb(2);p.Yb("icon",e.faClipboard)}}function ce(e,t){if(1&e){const e=p.Lb();p.Kb(0,"button",10),p.Rb("click",(function(){return p.fc(e),p.Tb(2).onResultGenerate()})),p.kc(1,"Generuj rezultat "),p.Jb()}}function ae(e,t){1&e&&(p.Kb(0,"p",11),p.kc(1,"Zbyt ma\u0142o danych aby rezultat m\xf3g\u0142 zosta\u0107 wygenerowany."),p.Jb())}function de(e,t){if(1&e&&(p.Kb(0,"section",1),p.Kb(1,"div",2),p.jc(2,re,2,1,"div",3),p.Kb(3,"span",4),p.kc(4,"Rezultat"),p.Jb(),p.jc(5,oe,1,1,"fa-icon",5),p.jc(6,ce,2,0,"button",6),p.jc(7,ae,2,0,"p",7),p.Jb(),p.Jb()),2&e){const e=p.Tb();p.xb(2),p.Yb("ngIf",!!e.errorMessage),p.xb(3),p.Yb("ngIf",!!e.selectedPrediction.depressionResult),p.xb(1),p.Yb("ngIf",!e.selectedPrediction.depressionResult&&e.canGeneratePrediction&&e.isSelectedUserCurrentUser&&!e.selectedPrediction.canceled),p.xb(1),p.Yb("ngIf",e.selectedPrediction.canceled)}}let le=(()=>{class e{constructor(e,t){this.store=e,this.predictionResultService=t,this.faClipboard=O.faClipboardList}ngOnInit(){this.authenticationStoreSubscription=this.store.select("authentication").subscribe(e=>{this.currentUser=e.user}),this.predictionStoreSubscription=this.store.select("dashboard").subscribe(e=>{this.selectedPrediction=e.selectedPrediction,this.errorMessage=e.predictionErrorMessage,this.selectedUser=e.selectedUser,this.isSelectedUserCurrentUser=this.selectedUser.userId===this.currentUser.userId,this.selectedPrediction&&!this.selectedPrediction.depressionResult&&(this.canGeneratePrediction=this.canGeneratePredictionResult())}),this.predictionResultGeneratedSubscription=this.predictionResultService.predictionResultGeneratedEvent.subscribe(e=>{this.store.dispatch(new b.v(this.selectedUser.userId,this.selectedPrediction.predictionId)),this.store.dispatch(new b.x(this.selectedUser.userId))})}ngOnDestroy(){this.authenticationStoreSubscription.unsubscribe(),this.predictionStoreSubscription.unsubscribe(),this.predictionResultGeneratedSubscription.unsubscribe()}onViewResult(){this.predictionResultService.predictionResultViewModalOpenEvent.emit()}canGeneratePredictionResult(){if(this.selectedPrediction.canceled)return!1;const e=new Date,t=this.selectedPrediction.expireDays,i=new Date(this.selectedPrediction.expireDate[0],this.selectedPrediction.expireDate[1]-1,this.selectedPrediction.expireDate[2],this.currentUser.wakeHour+15,0,0,0);if(e>i)return!0;const n=this.selectedPrediction.days.filter(e=>e.dayNumber===t-1)[0],s=e.getHours(),r=this.selectedUser.wakeHour+5,o=e;return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),o===i&&(0!==n.eveningEmotions.length||s>=r)}onResultGenerate(){this.store.dispatch(new b.p(this.selectedUser.userId,this.selectedPrediction.predictionId))}}return e.\u0275fac=function(t){return new(t||e)(p.Hb(h.h),p.Hb(D.a))},e.\u0275cmp=p.Bb({type:e,selectors:[["app-prediction-result"]],decls:1,vars:1,consts:[["class","container-fluid text-left pt-2",4,"ngIf"],[1,"container-fluid","text-left","pt-2"],[1,"result-name","mt-3"],["class","alert alert-danger p-2 mb-4",4,"ngIf"],[1,"display-4"],["class","ml-3 text-blue pointer view",3,"icon","click",4,"ngIf"],["class","btn btn-primary btn-lg btn-block p-3 mt-5","type","submit",3,"click",4,"ngIf"],["class","h5 mt-4",4,"ngIf"],[1,"alert","alert-danger","p-2","mb-4"],[1,"ml-3","text-blue","pointer","view",3,"icon","click"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","p-3","mt-5",3,"click"],[1,"h5","mt-4"]],template:function(e,t){1&e&&p.jc(0,de,8,4,"section",0),2&e&&p.Yb("ngIf",!!t.selectedPrediction.depressionResult||t.canGeneratePrediction||t.selectedPrediction.canceled)},directives:[n.j,g.a],styles:[".view[_ngcontent-%COMP%]{position:absolute;bottom:9px;font-size:30px;color:#0275d8}.result-name[_ngcontent-%COMP%]{position:relative}"]}),e})();function ue(e,t){1&e&&(p.Kb(0,"section",2),p.Kb(1,"div",3),p.Ib(2,"app-prediction-day-navbar"),p.Jb(),p.Kb(3,"div",3),p.Ib(4,"app-prediction-day-part-navbar"),p.Jb(),p.Kb(5,"div",4),p.Ib(6,"router-outlet"),p.Ib(7,"app-prediction-result"),p.Jb(),p.Jb())}function be(e,t){if(1&e&&(p.Kb(0,"div",5),p.Ib(1,"fa-icon",6),p.Jb()),2&e){const e=p.Tb();p.xb(1),p.Yb("icon",e.faCircleNotch)}}let pe=(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t,this.faCircleNotch=a.faCircleNotch}ngOnInit(){this.predictionStoreSubscription=this.store.select("dashboard").subscribe(e=>{this.selectedUser=e.selectedUser,this.selectedPrediction=e.selectedPrediction,this.isFetching=e.isPredictionFetching}),this.activatedRoute.snapshot.params.predictionId&&this.store.dispatch(new b.v(this.selectedUser.userId,this.activatedRoute.snapshot.params.predictionId))}ngOnDestroy(){this.predictionStoreSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(p.Hb(h.h),p.Hb(s.a))},e.\u0275cmp=p.Bb({type:e,selectors:[["app-prediction-details"]],decls:2,vars:2,consts:[["class","container-fluid p-0 m-0 mt-3 row",4,"ngIf"],["class","col-xl-12 spinner text-center",4,"ngIf"],[1,"container-fluid","p-0","m-0","mt-3","row"],[1,"col-xl-auto","text-center"],[1,"col-xl-12","text-center"],[1,"col-xl-12","spinner","text-center"],["size","3x","spin","true",3,"icon"]],template:function(e,t){1&e&&(p.jc(0,ue,8,0,"section",0),p.jc(1,be,2,1,"div",1)),2&e&&(p.Yb("ngIf",!t.isFetching&&!!t.selectedPrediction),p.xb(1),p.Yb("ngIf",t.isFetching))},directives:[n.j,$,se,s.h,le,g.a],styles:[".spinner[_ngcontent-%COMP%]{position:absolute;line-height:80vh;height:80vh;width:100%;top:70%;bottom:10px}"]}),e})();var he=i("gFRg");function me(e,t){if(1&e){const e=p.Lb();p.Kb(0,"fa-icon",7),p.Rb("click",(function(){return p.fc(e),p.Tb().onEditEmotions()})),p.Jb()}if(2&e){const e=p.Tb();p.Yb("icon",e.faPlus)}}function ge(e,t){if(1&e&&(p.Kb(0,"li",8),p.kc(1),p.Ub(2,"titlecase"),p.Ub(3,"emotionTranslate"),p.Jb()),2&e){const e=t.$implicit;p.xb(1),p.lc(p.Vb(2,1,p.Vb(3,3,e)))}}function fe(e,t){if(1&e&&(p.Kb(0,"li",8),p.kc(1),p.Ub(2,"titlecase"),p.Ub(3,"emotionTranslate"),p.Jb()),2&e){const e=t.$implicit;p.xb(1),p.lc(p.Vb(2,1,p.Vb(3,3,e)))}}let ve=(()=>{class e{constructor(e,t,i,n){this.store=e,this.activatedRoute=t,this.router=i,this.predictionDayPartService=n,this.faPlus=he.faPlusCircle,this.positiveEmotions=[],this.negativeEmotions=[]}ngOnInit(){this.authenticationStoreSubscription=this.store.select("authentication").subscribe(e=>{this.currentUser=e.user}),this.predictionStoreSubscription=this.store.select("dashboard").subscribe(e=>{this.isSelectedUserCurrentUser=e.selectedUser.userId===this.currentUser.userId}),this.activatedRoute.queryParams.subscribe(e=>{this.dayPartQueryParam=e.dayPart,this.dayPartQueryParam?setTimeout(e=>{this.updateEmotionList(),this.checkIfPartOfDayExpired()}):this.router.navigate([],{queryParams:{dayPart:"morning"}})})}ngOnDestroy(){this.predictionStoreSubscription.unsubscribe(),this.authenticationStoreSubscription.unsubscribe()}updateEmotionList(){let e;switch(this.dayPartQueryParam){default:case"morning":this.dayPartName="Rano",this.dayPartNumber=0,e=this.day.morningEmotions;break;case"afternoon":this.dayPartName="Popo\u0142udnie",this.dayPartNumber=1,e=this.day.afternoonEmotions;break;case"evening":this.dayPartName="Wiecz\xf3r",this.dayPartNumber=2,e=this.day.eveningEmotions}e&&(this.positiveEmotions=u.getPositiveEmotions(e),this.negativeEmotions=u.getNegativeEmotions(e))}onEditEmotions(){this.predictionDayPartService.predictionDayPartEditModalOpenEvent.emit([...this.positiveEmotions,...this.negativeEmotions])}checkIfPartOfDayExpired(){const e=24*(this.expireDays-this.day.dayNumber+1)*60*60*1e3;let t=new Date(this.expireDate[0],this.expireDate[1]-1,this.expireDate[2],0,0,0);t=new Date(t.getTime()-e);const i=864e5,n=60*(this.wakeHour+5*this.dayPartNumber)*60*1e3+i,s=new Date(t.getTime()+n),r=60*(this.wakeHour+5*this.dayPartNumber+5)*60*1e3+i,o=new Date(t.getTime()+r),c=new Date;this.isDayPartEditable=c>=s&&c<o}}return e.\u0275fac=function(t){return new(t||e)(p.Hb(h.h),p.Hb(s.a),p.Hb(s.c),p.Hb(m))},e.\u0275cmp=p.Bb({type:e,selectors:[["app-prediction-day-part"]],inputs:{expireDate:"expireDate",expireDays:"expireDays",wakeHour:"wakeHour",day:"day"},decls:12,vars:4,consts:[[1,"day-part-name","mt-3"],[1,"display-4"],["class","ml-3 text-blue pointer add",3,"icon","click",4,"ngIf"],[1,"ml-1","mt-5","text-green","font-weight-bold"],[1,"p-2","emotions"],["class","shadow-sm rounded-pill p-1 pr-3 pl-3 mr-2",4,"ngFor","ngForOf"],[1,"ml-1","text-red","font-weight-bold"],[1,"ml-3","text-blue","pointer","add",3,"icon","click"],[1,"shadow-sm","rounded-pill","p-1","pr-3","pl-3","mr-2"]],template:function(e,t){1&e&&(p.Kb(0,"div",0),p.Kb(1,"span",1),p.kc(2),p.Jb(),p.jc(3,me,1,1,"fa-icon",2),p.Jb(),p.Kb(4,"h5",3),p.kc(5,"Pozytywne"),p.Jb(),p.Kb(6,"ul",4),p.jc(7,ge,4,5,"li",5),p.Jb(),p.Kb(8,"h5",6),p.kc(9,"Negatywne"),p.Jb(),p.Kb(10,"ul",4),p.jc(11,fe,4,5,"li",5),p.Jb()),2&e&&(p.xb(2),p.lc(t.dayPartName),p.xb(1),p.Yb("ngIf",t.isDayPartEditable&&t.isSelectedUserCurrentUser),p.xb(4),p.Yb("ngForOf",t.positiveEmotions),p.xb(4),p.Yb("ngForOf",t.negativeEmotions))},directives:[n.j,n.i,g.a],pipes:[n.m,f],styles:["ul.emotions[_ngcontent-%COMP%]{list-style-type:none}ul.emotions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;-webkit-user-select:none;user-select:none;margin-top:3px;margin-bottom:3px}.add[_ngcontent-%COMP%]{position:absolute;bottom:7px;font-size:30px;color:#0275d8}.day-part-name[_ngcontent-%COMP%]{position:relative}"]}),e})();function ye(e,t){if(1&e&&(p.Kb(0,"section",1),p.Ib(1,"app-prediction-day-part",2),p.Jb()),2&e){const e=p.Tb();p.xb(1),p.Yb("day",e.selectedPrediction.days[e.dayNumber-1])("expireDate",e.selectedPrediction.expireDate)("expireDays",e.selectedPrediction.expireDays)("wakeHour",e.selectedPrediction.owner.wakeHour)}}const Pe=[{path:"",pathMatch:"full",redirectTo:"/dashboard/"},{path:":userId",component:W,children:[{path:"predictions",pathMatch:"full",redirectTo:""},{path:"predictions/:predictionId",component:pe,children:[{path:"",redirectTo:"day/1"},{path:"day",redirectTo:"day/1"},{path:"day/:dayNumber",component:(()=>{class e{constructor(e,t){this.store=e,this.activatedRoute=t}ngOnInit(){this.predictionStoreSubscription=this.store.select("dashboard").subscribe(e=>{this.selectedPrediction=e.selectedPrediction}),this.activatedRoute.params.subscribe(e=>{this.dayNumber=e.dayNumber})}ngOnDestroy(){this.predictionStoreSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(p.Hb(h.h),p.Hb(s.a))},e.\u0275cmp=p.Bb({type:e,selectors:[["app-prediction-day"]],decls:1,vars:1,consts:[["class","container-fluid text-left pt-2",4,"ngIf"],[1,"container-fluid","text-left","pt-2"],[3,"day","expireDate","expireDays","wakeHour"]],template:function(e,t){1&e&&p.jc(0,ye,2,4,"section",0),2&e&&p.Yb("ngIf",!!t.selectedPrediction)},directives:[n.j,ve],styles:[""]}),e})()},{path:"**",redirectTo:"day/1"}]}]},{path:"**",redirectTo:""}];let Ee=(()=>{class e{}return e.\u0275mod=p.Fb({type:e}),e.\u0275inj=p.Eb({factory:function(t){return new(t||e)},imports:[[n.b,s.g.forChild(Pe)],s.g]}),e})();var we=i("PCNd");let xe=(()=>{class e{}return e.\u0275mod=p.Fb({type:e,bootstrap:[x,N]}),e.\u0275inj=p.Eb({factory:function(t){return new(t||e)},imports:[[n.b,Ee,we.a,g.b,c.k]]}),e})()},Xa4a:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="clock",s=[],r="f017",o="M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z";t.definition={prefix:"fas",iconName:n,icon:[512,512,s,r,o]},t.faClock=t.definition,t.prefix="fas",t.iconName=n,t.width=512,t.height=512,t.ligatures=s,t.unicode=r,t.svgPathData=o},gFRg:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="plus-circle",s=[],r="f055",o="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z";t.definition={prefix:"fas",iconName:n,icon:[512,512,s,r,o]},t.faPlusCircle=t.definition,t.prefix="fas",t.iconName=n,t.width=512,t.height=512,t.ligatures=s,t.unicode=r,t.svgPathData=o},wrCH:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="clipboard-list",s=[],r="f46d",o="M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z";t.definition={prefix:"fas",iconName:n,icon:[384,512,s,r,o]},t.faClipboardList=t.definition,t.prefix="fas",t.iconName=n,t.width=384,t.height=512,t.ligatures=s,t.unicode=r,t.svgPathData=o},"y5z+":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="meh-blank",s=[],r="f5a4",o="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm-80 232c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm160 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z";t.definition={prefix:"fas",iconName:n,icon:[496,512,s,r,o]},t.faMehBlank=t.definition,t.prefix="fas",t.iconName=n,t.width=496,t.height=512,t.ligatures=s,t.unicode=r,t.svgPathData=o}}]);